<ng-container *ngIf="artists">
	<h3 class="page_header">Artists</h3>
	<ul>
		<li *ngFor="let artist of artists">
			<a [routerLink]="['/page/albums/', artist.artist_id]">
				<div class="artist_image">
					<img
						src="{{ '/artists/' + artist.artist_id + '/image' }}"
						alt="{{ artist.name }}"
					/>
				</div>
				<div class="name">{{ artist.name }}</div>
			</a>
		</li>
	</ul>
</ng-container>

<ng-container *ngIf="selected_artist">
	<modal [modal_config]="modal_config" #modal></modal>
	<h3 class="page_header">{{ selected_artist.name }}</h3>
	<track-table
		[tracks]="tracks"
		[popup_menu]="popup_menu_template"
		[show_headers]="true"
	></track-table>
</ng-container>

<ng-template #popup_menu_template let-track="track">
	<popup-menu #popup_menu>
		<popup-menu-item (click)="love_this_track(track)">Love</popup-menu-item>
		<popup-menu-item [contains_submenu]="true">
			Add to a playlist
			<span class="submenu">
				<popup-menu-item (click)="add_to_playlist(track)">
					+ New Playlist
				</popup-menu-item>
				<popup-menu-item
					*ngFor="let name of playlist_service.names"
					(click)="add_to_playlist(track, name)"
				>
					{{ name }}
				</popup-menu-item>
			</span>
		</popup-menu-item>
		<popup-menu-item (click)="play_track_next(track)">Play Next</popup-menu-item>
		<popup-menu-item (click)="append_track_to_queue(track)">
			Append to Queue
		</popup-menu-item>
	</popup-menu>
</ng-template>
